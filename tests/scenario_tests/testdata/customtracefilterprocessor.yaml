name: customtracefilterprocessor_span_and_event_test
version: v0.1.0
summary: Test for CustomTraceFilterProcessor with both span and span event statements
description: |
  Test configuration with an OTel receiver, CustomTraceFilterProcessor with both span and span event
  filter statements, and OTel HTTP exporter.

components:
  - name: OTel Receiver 1
    kind: OTelReceiver
  - name: trace_filter_1
    kind: CustomTraceFilterProcessor
    properties:
      - name: SpanStatements
        value:
          - 'attributes["service.name"] == "frontend"'
      - name: SpanEventStatements
        value:
          - 'name == "exception"'
          - 'attributes["event.type"] == "error"'
  - name: OTel HTTP Exporter 1
    kind: OTelHTTPExporter

connections:
  - source:
      component: OTel Receiver 1
      port: Traces
      type: OTelTraces
    destination:
      component: trace_filter_1
      port: Traces
      type: OTelTraces
  - source:
      component: trace_filter_1
      port: Traces
      type: OTelTraces
    destination:
      component: OTel HTTP Exporter 1
      port: Traces
      type: OTelTraces
