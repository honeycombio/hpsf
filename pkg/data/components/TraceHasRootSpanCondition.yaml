kind: TraceHasRootSpanCondition
name: Check That Trace Has Root Span
style: condition
type: base
status: alpha
version: v0.1.0
summary: Checks if a trace has a root span
description: |
  This checks if the trace has a root span. This is typically used to ensure that the trace
  has been fully received before being sent for a sampling decision.
tags:
  - category:refinery_rule_condition
  - service:refinery
  - vendor:Honeycomb
  - type:root_span
ports:
  # inputs
  - name: Match
    direction: input
    type: SampleData
  # outputs
  - name: And
    direction: output
    type: SampleData
templates:
  - kind: refinery_rules
    name: TraceHasRootSpanCondition
    format: rules
    meta:
      condition: true
    data:
      - key: Operator
        value: has-root-span
      - key: Value
        value: true
