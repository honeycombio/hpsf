RulesVersion: 2
Samplers:
    __default__:
        RulesBasedSampler:
            Rules:
                - Name: drop healthchecks
                  Drop: true
                  Conditions:
                    - Field: http.route
                      Operator: =
                      Value: /health-check
                - Name: drop everything from specific services
                  Drop: true
                  Conditions:
                    - Field: service.name
                      Operator: in
                      Value:
                        - noisy-service
                        - overly-chatty-service17
                - Name: keep slow 500 errors across semantic conventions
                  SampleRate: 1
                  Conditions:
                    - Fields:
                        - http.status_code
                        - http.response.status_code
                      Operator: =
                      Value: 500
                      Datatype: int
                    - Field: duration_ms
                      Operator: '>='
                      Value: 1000
                      Datatype: float
