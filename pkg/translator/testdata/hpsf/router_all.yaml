components:
  - name: receiver
    kind: OTelReceiver
  - name: router_production
    kind: Router
    properties:
      - name: EnvironmentName
        value: production
      - name: RoutingAttribute
        value: deployment.environment
      - name: IsDefault
        value: false
  - name: router_staging
    kind: Router
    properties:
      - name: EnvironmentName
        value: staging
      - name: RoutingAttribute
        value: deployment.environment
      - name: IsDefault
        value: false
  - name: router_default
    kind: Router
    properties:
      - name: EnvironmentName
        value: development
      - name: RoutingAttribute
        value: deployment.environment
      - name: IsDefault
        value: true
  - name: exporter_production
    kind: HoneycombExporter
  - name: exporter_staging
    kind: HoneycombExporter
  - name: exporter_development
    kind: HoneycombExporter
connections:
  # Receiver to routers
  - source:
      component: receiver
      port: Traces
      type: OTelTraces
    destination:
      component: router_production
      port: Traces
      type: OTelTraces
  - source:
      component: receiver
      port: Traces
      type: OTelTraces
    destination:
      component: router_staging
      port: Traces
      type: OTelTraces
  - source:
      component: receiver
      port: Traces
      type: OTelTraces
    destination:
      component: router_default
      port: Traces
      type: OTelTraces
  # Production router to exporter
  - source:
      component: router_production
      port: Traces
      type: OTelTraces
    destination:
      component: exporter_production
      port: Traces
      type: OTelTraces
  # Staging router to exporter
  - source:
      component: router_staging
      port: Traces
      type: OTelTraces
    destination:
      component: exporter_staging
      port: Traces
      type: OTelTraces
  # Default router to exporter
  - source:
      component: router_default
      port: Traces
      type: OTelTraces
    destination:
      component: exporter_development
      port: Traces
      type: OTelTraces
