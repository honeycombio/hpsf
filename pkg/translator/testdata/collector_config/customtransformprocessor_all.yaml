receivers:
    otlp/otlp_in:
        protocols:
            grpc:
                endpoint: ${HTP_COLLECTOR_POD_IP}:4317
            http:
                endpoint: ${HTP_COLLECTOR_POD_IP}:4318
processors:
    memory_limiter/otlp_in:
        check_interval: 1s
        limit_percentage: 80
        spike_limit_percentage: 20
    transform/transform_1:
        error_mode: propagate
        log_statements:
            - set(log.attributes["processed"], "true")
            - set(log.severity_text, "INFO")
        metric_statements:
            - set(datapoint.attributes["processed"], "true")
            - set(metric.description, Concat([metric.description, " (processed)"], ""))
        trace_statements:
            - set(span.attributes["processed"], "true")
            - set(span.attributes["processor"], "transform")
            - delete_key(span.attributes, "temp_field")
    usage: {}
exporters:
    otlphttp/otlp_out:
        endpoint: https://api.honeycomb.io:443
        sending_queue:
            batch:
                flush_timeout: 200ms
                max_size: 8192
                min_size: 8192
            enabled: true
            queue_size: 100000
            sizer: items
extensions:
    honeycomb: {}
service:
    extensions: [honeycomb]
    pipelines:
        logs/381-eb7:
            receivers: [otlp/otlp_in]
            processors: [memory_limiter/otlp_in, usage, transform/transform_1]
            exporters: [otlphttp/otlp_out]
        metrics/1b1-e98:
            receivers: [otlp/otlp_in]
            processors: [memory_limiter/otlp_in, usage, transform/transform_1]
            exporters: [otlphttp/otlp_out]
        traces/96c-3cf:
            receivers: [otlp/otlp_in]
            processors: [memory_limiter/otlp_in, usage, transform/transform_1]
            exporters: [otlphttp/otlp_out]
