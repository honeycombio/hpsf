receivers:
    otlp/otlp_in:
        protocols:
            grpc:
                endpoint: ${STRAWS_COLLECTOR_POD_IP}:4317
            http:
                endpoint: ${STRAWS_COLLECTOR_POD_IP}:4318
processors:
    transform/Field_Redactor:
        error_mode: ignore
        log_statements:
            - set(log.attributes["password"], Concat(["redacted_", SHA256(log.attributes["password"])], "")) where log.attributes["password"] != nil
            - set(log.attributes["ssn"], Concat(["redacted_", SHA256(log.attributes["ssn"])], "")) where log.attributes["ssn"] != nil
            - set(log.attributes["credit_card"], Concat(["redacted_", SHA256(log.attributes["credit_card"])], "")) where log.attributes["credit_card"] != nil
        metric_statements:
            - set(datapoint.attributes["password"], Concat(["redacted_", SHA256(datapoint.attributes["password"])], "")) where datapoint.attributes["password"] != nil
            - set(datapoint.attributes["ssn"], Concat(["redacted_", SHA256(datapoint.attributes["ssn"])], "")) where datapoint.attributes["ssn"] != nil
            - set(datapoint.attributes["credit_card"], Concat(["redacted_", SHA256(datapoint.attributes["credit_card"])], "")) where datapoint.attributes["credit_card"] != nil
        trace_statements:
            - set(span.attributes["password"], Concat(["redacted_", SHA256(span.attributes["password"])], "")) where span.attributes["password"] != nil
            - set(span.attributes["ssn"], Concat(["redacted_", SHA256(span.attributes["ssn"])], "")) where span.attributes["ssn"] != nil
            - set(span.attributes["credit_card"], Concat(["redacted_", SHA256(span.attributes["credit_card"])], "")) where span.attributes["credit_card"] != nil
    usage: {}
exporters:
    otlphttp/otlp_out:
        endpoint: https://api.honeycomb.io:443
        sending_queue:
            batch:
                flush_timeout: 200ms
                max_size: 8192
                min_size: 8192
            enabled: true
            queue_size: 100000
            sizer: items
extensions:
    honeycomb: {}
service:
    extensions: [honeycomb]
    pipelines:
        logs:
            receivers: [otlp/otlp_in]
            processors: [usage, transform/Field_Redactor]
            exporters: [otlphttp/otlp_out]
        metrics:
            receivers: [otlp/otlp_in]
            processors: [usage, transform/Field_Redactor]
            exporters: [otlphttp/otlp_out]
        traces:
            receivers: [otlp/otlp_in]
            processors: [usage, transform/Field_Redactor]
            exporters: [otlphttp/otlp_out]
