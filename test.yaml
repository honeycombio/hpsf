components:
  - name: OTelReceiver_1
    kind: OTelReceiver
    ports:
      - name: Traces
        direction: output
        type: OTelTraces
      - name: Metrics
        direction: output
        type: OTelMetrics
      - name: Logs
        direction: output
        type: OTelLogs
    properties:
      - name: Host
        summary: The hostname or IP address on which to listen
        description: |
          Hostname or IP address on which to listen for incoming traffic.
          It is recommended not to change the default unless
          you know what you're doing.
        type: string
        validations:
          - noblanks
        default: ${STRAWS_COLLECTOR_POD_IP}
      - name: GRPCPort
        summary: The port on which to listen for gRPC traffic.
        description: |
          The port on which to listen for incoming gRPC traffic.
          The OTel default is 4317. Set to 0 to disable gRPC.
        type: int
        validations:
          - integer
        default: 4317
      - name: HTTPPort
        summary: The port on which to listen for HTTP traffic.
        description: |
          The port on which to listen for incoming HTTP traffic.
          The OTel default is 4318. Set to 0 to disable HTTP.
        type: int
        validations:
          - integer
        default: 4318
  - name: OTelGRPCExporter_1
    kind: OTelGRPCExporter
    ports:
      - name: Traces
        direction: input
        type: OTelTraces
      - name: Metrics
        direction: input
        type: OTelMetrics
      - name: Logs
        direction: input
        type: OTelLogs
    properties:
      - name: Host
        summary: The hostname or IP address to send data to
        description: |
          Hostname or IP address on which to send outgoing GRPC traffic.
        type: string
        validations:
          - noblanks
        default: https://api.honeycomb.io
      - name: Port
        summary: The port on which to send gRPC traffic.
        description: >
          The port on which to send outgoing gRPC traffic. Default is 443, which
          is

          the value expected by Honeycomb. The OTel standard for gRPC is 4317.
        type: int
        validations:
          - integer
        default: 443
      - name: Headers
        summary: Headers to emit when sending gRPC traffic.
        description: |
          Sending data to a backend may require additional headers to be
          configured. This property supports sending a map of header keys and
          values.
        type: map
        validations:
          - map
  - name: OTelHTTPExporter_1
    kind: OTelHTTPExporter
    ports:
      - name: Traces
        direction: input
        type: OTelTraces
      - name: Metrics
        direction: input
        type: OTelMetrics
      - name: Logs
        direction: input
        type: OTelLogs
    properties:
      - name: Host
        summary: The hostname or IP address to send data to
        description: |
          Hostname or IP address on which to send outgoing HTTP traffic.
        type: string
        validations:
          - noblanks
        default: https://api.honeycomb.io
      - name: Port
        summary: The port on which to send HTTP traffic.
        description: >
          The port on which to send outgoing HTTP traffic. Default is 443, which
          is

          the value expected by Honeycomb. The OTel standard for HTTP is 4318.
        type: int
        validations:
          - integer
        default: 443
      - name: Headers
        summary: Headers to emit when sending HTTP traffic.
        description: |
          Sending data to a backend may require additional headers to be
          configured. This properties supports sending a map of header keys and
          values.
        type: map
        validations:
          - map

connections:
  - source:
      component: OTelReceiver_1
      port: Traces
      type: OTelTraces
    destination:
      component: OTelGRPCExporter_1
      port: Traces
      type: OTelTraces
  - source:
      component: OTelReceiver_1
      port: Traces
      type: OTelTraces
    destination:
      component: OTelHTTPExporter_1
      port: Traces
      type: OTelTraces
